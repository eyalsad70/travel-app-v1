# Use the official Ubuntu 20.04 base image
FROM ubuntu:20.04

# Set environment variables to non-interactive (prevents interactive prompts during package installation)
ENV DEBIAN_FRONTEND=noninteractive

# Update Ubuntu and install Python 3 and pip
RUN apt-get update && \
    apt-get install -y python3 python3-pip && \
    rm -rf /var/lib/apt/lists/*

# Set the working directory inside the container
WORKDIR /app

# Copy the requirements.txt to the working directory
COPY requirements.txt .

# Install Python dependencies using pip
RUN pip3 install --no-cache-dir -r requirements.txt

# Copy the rest of the application code into the container
COPY . .

# Make sure your main Python script is executable (optional, only if required)
RUN chmod +x main.py

# Command to run your Python application
CMD ["python3", "main.py"]
